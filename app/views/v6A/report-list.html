{% extends 'layout.html' %} {% block pageTitle %}Reports - Cohort Manager {%
endblock %} {% block beforeContent %}

<nav class="nhsuk-breadcrumb" aria-label="Breadcrumb">
  <ol class="nhsuk-breadcrumb__list">
    <li class="nhsuk-breadcrumb__item">
      <a class="nhsuk-breadcrumb__link" href="/v6A">Home</a>
    </li>
  </ol>
  <p class="nhsuk-breadcrumb__back">
    <a class="nhsuk-breadcrumb__backlink" href="/v6A">
      <span class="nhsuk-u-visually-hidden">Back to</span>
      Home
    </a>
  </p>
</nav>

{% endblock %} {% block content %}

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
    <h1>Reports</h1>
  </div>
</div>

<!-- <div class="nhsuk-form-group nhsuk-u-margin-bottom-0">
  <p class="nhsuk-body" style="float: right">
    <b>Showing 2 of 2 results</b>
  </p>
</div> -->

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
    <div class="nhsuk-card nhsuk-u-margin-bottom-2">
      <div class="nhsuk-card__content">
        <table role="table" class="nhsuk-table-responsive">
          <thead role="rowgroup" class="nhsuk-table__head">
            <tr role="row">
              <th role="columnheader" scope="col">Date</th>
              <th role="columnheader" scope="col">Demographic change</th>
              <th role="columnheader" scope="col">Action</th>
            </tr>
          </thead>
          <tbody class="nhsuk-table__body">
            <tr role="row" class="nhsuk-table__row">
              <td
                role="cell"
                class="nhsuk-table__cell app-u-no-wrap date-today"
              >
                <span class="nhsuk-table-responsive__heading" aria-hidden="true"
                  >Date
                </span>
              </td>
              <td>
                <span class="nhsuk-table-responsive__heading" aria-hidden="true"
                  >Demographic change
                </span>
                NHS number change
              </td>
              <td role="cell" class="nhsuk-table__cell app-u-no-wrap">
                <span class="nhsuk-table-responsive__heading" aria-hidden="true"
                  >Action</span
                ><a href="/v6A/view-report-supersededNHS">View report</a>
              </td>
            </tr>

            <tr role="row" class="nhsuk-table__row">
              <td
                role="cell"
                class="nhsuk-table__cell app-u-no-wrap date-today"
              >
                <span class="nhsuk-table-responsive__heading" aria-hidden="true"
                  >Date
                </span>
              </td>
              <td>
                <span class="nhsuk-table-responsive__heading" aria-hidden="true"
                  >Demographic change
                </span>
                Possible confusion
              </td>
              <td role="cell" class="nhsuk-table__cell app-u-no-wrap">
                <span class="nhsuk-table-responsive__heading" aria-hidden="true"
                  >Action</span
                ><a href="/v6A/view-report-confusion">View report</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <script>
      // Utility function to get a formatted date string
      function getFormattedDate(offset) {
        const date = new Date();
        date.setDate(date.getDate() - offset);
        const options = { year: "numeric", month: "long", day: "2-digit" };
        return date.toLocaleDateString("en-GB", options); // Format: DD-month-YYYY
      }

      // Function to populate dates
      function populateDates() {
        const today = getFormattedDate(0);
        const yesterday = getFormattedDate(1);
        const dayBeforeYesterday = getFormattedDate(2);

        // Replace content for each type of date
        document
          .querySelectorAll(".date-today")
          .forEach((el) => (el.textContent = today));
        document
          .querySelectorAll(".date-yesterday")
          .forEach((el) => (el.textContent = yesterday));
        document
          .querySelectorAll(".date-today-2")
          .forEach((el) => (el.textContent = dayBeforeYesterday));
      }

      // Run when page loads
      window.onload = populateDates;
    </script>
  </div>
  {% endblock %}
</div>
